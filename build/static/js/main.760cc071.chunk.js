(this["webpackJsonpe-voting-system"]=this["webpackJsonpe-voting-system"]||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(28),r=c.n(n),i=(c(34),c(15)),o=c(2),l=(c(35),c(12)),j=c(16),m=c(9),d=c(8),h=c.n(d),b=c(0);var x=function(e){var t=e.history,c=Object(a.useState)({username:"",password:""}),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!1),o=Object(m.a)(i,2),d=o[0],x=o[1],u=function(e){x(!1),r(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{className:"bg",style:{backgroundImage:"url(/static/bg-img.jpg)"},children:[Object(b.jsx)("h1",{className:"text-center py-2 container",style:{fontFamily:"cursive"},children:"Welcome to BIC society Election E-voting system"}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"center",style:{marginTop:"120px"},children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();h.a.post("/api/users/login/",n,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e),localStorage.setItem("token",e.data.access),localStorage.setItem("name",e.data.first_name+" "+e.data.last_name),localStorage.setItem("department",e.data.department),localStorage.setItem("image",e.data.picture),t.push("/voting/0")})).catch((function(e){x(!0)}))},className:"bg-white px-4 py-4",style:{opacity:"0.8",width:"25rem"},children:[Object(b.jsx)("h4",{className:"text-center",children:"Login"}),Object(b.jsx)("div",{className:"form-group my-2",children:Object(b.jsx)("input",{type:"text",className:"form-control",onChange:u,id:"formGroupExampleInput",placeholder:"Username",name:"username"})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"password",className:"form-control",id:"formGroupExampleInput2",onChange:u,placeholder:"Password",name:"password"})}),Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary mt-1",children:"Login"})})]}),d&&Object(b.jsx)("div",{className:"alert alert-danger mt-2",role:"alert",children:"No Active Account With this credentials"})]})})]})};var u=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){h.a.get("/api/voting/results").then((function(e){return s(e.data)}))}),[]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("img",{className:"img-fluid",src:"/static/logo.jpeg"})}),Object(b.jsxs)("table",{className:"table table-striped mt-1",children:[Object(b.jsx)("thead",{className:"table-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"Society #"}),Object(b.jsx)("th",{scope:"col",children:"Candidate"}),Object(b.jsx)("th",{scope:"col",children:"Votes"}),Object(b.jsx)("th",{scope:"col",children:"Society"})]})}),Object(b.jsxs)("tbody",{children:[console.log(c),c&&c.map((function(e,t){return e.candidate.map((function(c,a){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t+1}),Object(b.jsx)("td",{children:c.member_name}),Object(b.jsx)("td",{children:c.votes}),Object(b.jsx)("td",{children:e.name})]},a)}))}))]})]})]})};var g=function(e){var t=e.history;return Object(a.useEffect)((function(){setTimeout((function(){t.push("/")}),5e3)}),[]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("img",{className:"img-fluid",src:"/static/logo.jpeg"})}),Object(b.jsxs)("div",{className:"d-flex mt-1 justify-content-center flex-wrap",children:[Object(b.jsxs)("div",{className:"mx-3",children:[Object(b.jsx)("img",{style:{objectFit:"contain",height:"350px"},src:"/static/1.jpeg",alt:""}),Object(b.jsxs)("h4",{className:"text-center",children:[Object(b.jsx)("strong",{children:"CEO "})," ",Object(b.jsx)("br",{})," Mr. Nasir Kasuri"," "]})]}),Object(b.jsxs)("div",{className:"mx-3",children:[Object(b.jsx)("img",{style:{objectFit:"contain",height:"350px"},src:"/static/2.jpeg",alt:""}),Object(b.jsxs)("h4",{className:"text-center",children:[" ",Object(b.jsx)("strong",{children:"CGM"}),Object(b.jsx)("br",{})," Miss Raana Sarmad"," "]})]}),Object(b.jsxs)("div",{className:"mx-2",children:[Object(b.jsx)("img",{style:{objectFit:"contain",height:"350px"},src:"/static/3.jpg",alt:""}),Object(b.jsxs)("h4",{className:"text-center",children:[Object(b.jsx)("strong",{children:"Rector "}),Object(b.jsx)("br",{})," Mr. Aamir Ikhlaq"," "]})]})]}),Object(b.jsx)("div",{className:"text-center mt-4",children:Object(b.jsx)("h1",{children:"Thank you for casting your vote"})})]})};var O=function(e){var t=e.match,c=Object(o.f)(),s=Number(t.params.id),n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],l=r[1],j=Object(a.useState)([]),d=Object(m.a)(j,2),x=d[0],u=d[1],g=Object(a.useState)(!1),O=Object(m.a)(g,2),p=O[0],v=O[1],f=Object(a.useState)("change me"),N=Object(m.a)(f,2),y=N[0],S=N[1],I=Object(a.useState)({i:"",j:""}),k=Object(m.a)(I,2),w=k[0],C=k[1];return Object(a.useEffect)((function(){localStorage.getItem("token")?h.a.get("/api/voting/getsocities").then((function(e){for(var t=[],c=0;c<e.data.length;c++)t.push(e.data[c].id);l([].concat(t)),h.a.get("/api/voting/society/".concat(t[s])).then((function(e){return u(e.data)}))})):c.push("/")}),[c,y,c.location]),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-3 col-xs-12 border",children:Object(b.jsxs)("div",{className:"py-3 ",children:[Object(b.jsx)("h4",{className:"text-center",children:"Profile"}),Object(b.jsx)("img",{className:"px-2 my-2 img-fluid",style:{objectFit:"cover"},src:localStorage.getItem("image"),alt:""}),Object(b.jsxs)("h4",{className:"ms-2",children:[" Name: ",Object(b.jsxs)("strong",{children:[" ",localStorage.getItem("name")]})," "]}),Object(b.jsxs)("h4",{className:"ms-2",children:[" Department: ",Object(b.jsxs)("strong",{children:[" ",localStorage.getItem("department")," "]})]})]})}),Object(b.jsxs)("div",{className:"col-md-9 col-xs-12",children:[Object(b.jsx)("h1",{className:"text-center py-2 text-uppercase",children:x&&x.name}),Object(b.jsx)("h2",{className:"text-center",children:"Select Any Candidate"}),Object(b.jsx)("div",{className:"my-2 container text-center",children:Object(b.jsxs)("form",{className:"row",children:[x&&x.candidate&&x.candidate.map((function(e,t){return Object(b.jsxs)("div",{className:"col-md-6 col-xs-12 my-1",children:[console.log(e),Object(b.jsxs)("div",{className:"card mx-auto",style:{width:"18rem"},children:[Object(b.jsx)("img",{className:"card-img-top",src:e.image,alt:"Card image cap"}),Object(b.jsx)("div",{className:"card-body py-1",children:Object(b.jsxs)("div",{className:"form-check",children:[Object(b.jsx)("input",{className:"form-check-input",type:"radio",onChange:function(){return function(e,t){S("change you");var a={candidate_id:t};C({i:e,j:t});var n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};h.a.post("/api/voting/candidate/",a,n).then((function(t){if("You Vote already"===t.data)v(!0);else{if(s+1==i.length)return h.a.get("/users/unactive",n),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("image"),localStorage.removeItem("department"),c.push("/thanks"),0;c.push("/voting/".concat(i[s+e]))}}))}(t,e.id)},name:"exampleRadios".concat(t),id:"exampleRadios".concat(t),value:"option1",checked:!1}),Object(b.jsx)("label",{className:"card-text",htmlFor:"exampleRadios".concat(t),children:e.member_name})]})})]})]},t)})),p&&Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"alert alert-danger mt-2 mx-5",role:"alert",children:"You voted Already this candidate"}),Object(b.jsx)("button",{onClick:function(){var e={candidate_id:w.j},t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};h.a.post("/api/voting/candidate/",e,t).then((function(e){if(s+1==i.length)return h.a.get("/users/unactive",t),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("image"),localStorage.removeItem("department"),c.push("/thanks"),0;c.push("/voting/".concat(i[s+w.i]))}))},type:"button",className:"btn btn-primary",children:"Next"})]})]})})]})]})};var p=function(){return Object(b.jsx)(i.a,{hashType:"noslash",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",component:x}),Object(b.jsx)(o.a,{path:"/voting/:id",component:O}),Object(b.jsx)(o.a,{path:"/thanks",component:g}),Object(b.jsx)(o.a,{path:"/results",component:u})]})})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),n(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),v()}},[[60,1,2]]]);
//# sourceMappingURL=main.760cc071.chunk.js.map